# 逻辑下标

假定 `X` 是一个普通矩阵，`L` 是一个由某个逻辑运算生成的同等大小的矩阵。那么，`X(L)` 指定 `X` 的元素，其中 `L` 的元素为非零。

可作if使用

## 利用逻辑下标去除缺失值

通过将逻辑运算指定为下标表达式，可以在一个步骤中完成这种下标。假定您具有以下数据集：

```
x = [2.1 1.7 1.6 1.5 NaN 1.9 1.8 1.5 5.1 1.8 1.4 2.2 1.6 1.8];
```

[`NaN`](https://ww2.mathworks.cn/help/matlab/ref/nan.html) 是用于缺少的观测值的标记，例如，无法响应问卷中的某个项。要使用逻辑索引删除缺少的数据，请使用 `isfinite(x)`，对于所有有限数值，该函数为 true；对于 `NaN` 和 `Inf`，该函数为 false：

```matlab
x = x(isfinite(x))
x =
  2.1 1.7 1.6 1.5 1.9 1.8 1.5 5.1 1.8 1.4 2.2 1.6 1.8
```

## 利用逻辑下标去除离群值

存在一个似乎与其他项很不一样的观测值，即 `5.1`。这是一个*离群值*。下面的语句可删除离群值，在本示例中，即比均值大三倍标准差的元素：

```
x = x(abs(x-mean(x)) <= 3*std(x))
x =
  2.1 1.7 1.6 1.5 1.9 1.8 1.5 1.8 1.4 2.2 1.6 1.8
```

标量扩展对于另一示例，请使用逻辑索引和标量扩展将非质数设置为 0，以便高亮显示丢勒幻方矩阵中的质数的位置。（请参阅 [magic 函数](https://ww2.mathworks.cn/help/matlab/learn_matlab/matrices-and-magic-squares.html#f2-484)。）

```matlab
A(~isprime(A)) = 0

A =
     0     3     2    13
     5     0    11     0
     0     0     7     0
     0     0     0     0
```